@page "/contacts"

@using Conway.CRM.Domain.Entities

<RadzenCard>
    <RadzenStack Orientation="Orientation.Vertical">
        <RadzenDataGrid @ref="grid"
                        Data="@Contacts"
                        TItem="Contact"
                        ColumnWidth="200px"
                        AllowPaging="true"
                        AllowSorting="true"
                        AllowFiltering="true"
                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive">
            <Columns>
                <RadzenDataGridColumn Width="10%" TItem="Contact" Property="FirstName" Title="First Name" />
                <RadzenDataGridColumn Width="10%" TItem="Contact" Property="LastName" Title="Last Name" />
                <RadzenDataGridColumn Width="20%" TItem="Contact" Property="Email" Title="Email" />
                <RadzenDataGridColumn Width="15%" TItem="Contact" Property="PhoneNumber" Title="Phone" />
                <RadzenDataGridColumn Width="15%" TItem="Contact" Property="MobileNumber" Title="Mobile" />
                <RadzenDataGridColumn Width="15%" TItem="Contact" Property="Customer.CompanyName" Title="Company" />
                <RadzenDataGridColumn TItem="Contact" Context="contact" Width="100px" Title="Actions" Filterable="false">
                    <Template Context="contact">
                        <RadzenButton Icon="edit" Click="@(() => EditContact(contact.Id))" />
                        <RadzenButton Icon="delete" Click="@(() => DeleteContact(contact.Id))" />
                    </Template>
                </RadzenDataGridColumn>
            </Columns>
        </RadzenDataGrid>

        <RadzenButton Icon="add" Text="Add Contact" Click="AddContact" Style="width: 200px;" />
    </RadzenStack>
</RadzenCard>